<html>
<head id="head">
<script src="jquery-1.7.2.min.js"></script>
<script src="extensions.js"></script>
<script src="get_data.js"></script>
<script src="mvc.js"></script>
<script src="uri.js"></script>
<script>

var context3 = {
	data: 'charts/charts.json',
	view: 'charts/charts.defered.view.js',
	
	defered_root: 'charts/',
	arrived_view: 'charts/charts.arrived.view.js',
	id: 'charts'
}

var context_defered = {
	// This is a list of ids
	data : 'users/users.defered.json',
	
	// this is the skeleton grid, generated syncronously
	view : 'users/users.defered.view.js',

	// This is the root for the defered data. It's assumed
	// that datafiles have the name: defere_root + object_id + '.json'
	defered_root : 'users/',
	
	// this is the view for formatting incoming data
	arrived_view : 'users/users.arrived.view.js',
	
	id : 'users'
};

$(document).ready(function(){
	compile(context3);
});

window.onpopstate = function(event){
	//console.log('onpopstate');
	if(event.state){
		//console.log('clean compile ...');
		cleanCompile(event.state);	
	}
}

</script>
</head>
<body id="body">
</body>
</html>